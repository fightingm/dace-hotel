{"version":3,"file":"main.9f38bbb4a7d7bb4c8961.hot-update.js","sources":["webpack:///src/pages/list/index.jsx","webpack:///./src/pages/list/index.scss"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport List from 'yo-component/list';\nimport { fetchList } from './action';\nimport reducer from './reducer';\nimport Layout from '../../layouts/default';\nimport './index.scss';\n\n@connect(state => state)\nexport default class HotelList extends Component {\n  static propTypes = {\n    list: PropTypes.array\n  };\n\n  static defaultProps = {\n    list: []\n  }\n\n  static getInitialProps = ({ store }) => {\n    store.injectReducer(reducer);\n    return store.dispatch(fetchList());\n  }\n\n  constructor() {\n    super();\n    this.renderList = this.renderList.bind(this);\n    this.onRefresh = this.onRefresh.bind(this);\n    this.onLoad = this.onLoad.bind(this);\n  }\n\n  onRefresh() {\n    setTimeout(() => {\n      this.list.stopRefreshing();\n    }, 500);\n  }\n\n  onLoad() {\n    setTimeout(() => {\n      this.list.stopLoading();\n    }, 500);\n  }\n\n  // 渲染酒店列表\n  renderList() {\n    const { list } = this.props;\n    if (!(list && list.length)) {\n      return null;\n    }\n    return (<List\n      ref={(dom) => { this.list = dom; }}\n      extraClass=\"hotel-list\"\n      dataSource={this.props.list}\n      usePullRefresh\n      useLoadMore\n      onRefresh={this.onRefresh}\n      onLoad={this.onLoad}\n      renderItem={(item) => {\n        const { id, price, attrs } = item;\n        const { imageID, hotelName, hotelAddress } = attrs;\n        return (\n          <div key={id} className=\"list-item\">\n            <div className=\"list-img\">\n              <img src={imageID} alt=\"\" />\n            </div>\n            <div className=\"list-info\">\n              <div className=\"hotel-title\">{hotelName}</div>\n              <div className=\"location\">{hotelAddress}</div>\n              <div className=\"price\">{price}</div>\n            </div>\n          </div>\n        );\n      }}\n    />);\n  }\n\n  render() {\n    console.log('?????????render');\n    return (\n      <Layout>\n        <div className=\"mh-list\">\n          <div className=\"search-head\" />\n          <div className=\"condition-select\" />\n          <div className=\"sale-tips\" />\n          {\n            this.renderList()\n          }\n        </div>\n      </Layout>\n    );\n  }\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".mh-list {\\n  font-size: 12px; }\\n  .mh-list .search-head {\\n    height: 0.44rem;\\n    background: #f7f7f7; }\\n  .mh-list .condition-select {\\n    height: .35rem;\\n    background: #f7f7f7;\\n    margin-top: .12rem; }\\n  .mh-list .sale-tips {\\n    height: .4rem;\\n    background: #f7f7f7;\\n    margin: .08rem 0; }\\n  .mh-list .hotel-list {\\n    top: 1.47rem;\\n    bottom: 0;\\n    left: 0;\\n    right: 0;\\n    position: absolute; }\\n    .mh-list .hotel-list .list-item {\\n      display: flex;\\n      min-height: 1rem;\\n      width: 100%; }\\n      .mh-list .hotel-list .list-item .list-img {\\n        width: 1.05rem;\\n        margin-right: 0.08rem;\\n        position: relative; }\\n        .mh-list .hotel-list .list-item .list-img img {\\n          width: 100%;\\n          height: 100%;\\n          border-radius: 0.04rem;\\n          position: absolute; }\\n      .mh-list .hotel-list .list-item .list-info {\\n        flex: 1;\\n        display: flex;\\n        flex-direction: column; }\\n        .mh-list .hotel-list .list-item .list-info .hotel-title {\\n          font-size: 16px;\\n          font-weight: 500;\\n          color: #222; }\\n        .mh-list .hotel-list .list-item .list-info .location {\\n          flex: 1; }\\n        .mh-list .hotel-list .list-item .list-info .price {\\n          align-self: flex-end; }\\n\", \"\"]);\n\n// exports\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;AAAA;AACA;;;AAAA;AACA;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAEA;AADA;AAAA;;;AAeA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AAJA;AAKA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAAA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;AAJA;AAWA;AAvBA;AAyBA;;;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AALA;AADA;AAWA;;;AAhFA;AAEA;AADA;AAKA;AADA;AAIA;AACA;AAAA;AACA;AACA;AAZA;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}